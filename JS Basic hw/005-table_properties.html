<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task</title>

    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      table,
      th,
      td {
        border: 1px solid black;
      }

      td,
      th {
        padding: 8px;
      }
    </style>
  </head>
  <body>
    <!-- <tbody> автоматически генерируется браузером -->
    <table id="statsTable">
      <tr>
        <th>Месяц</th>
        <th>Отдел 1</th>
        <th>Отдел 2</th>
        <th>Отдел 3</th>
      </tr>
      <tr>
        <td>Январь</td>
        <td>50</td>
        <td>120</td>
        <td>100</td>
      </tr>
      <tr>
        <td>Февраль</td>
        <td>60</td>
        <td>140</td>
        <td>20</td>
      </tr>
      <tr>
        <td>Март</td>
        <td>125</td>
        <td>115</td>
        <td>100</td>
      </tr>
      <tr>
        <td>Апрель</td>
        <td>87</td>
        <td>100</td>
        <td>70</td>
      </tr>
      <tr>
        <td>Март</td>
        <td>95</td>
        <td>80</td>
        <td>45</td>
      </tr>
      <tr>
        <td>Июнь</td>
        <td>115</td>
        <td>90</td>
        <td>60</td>
      </tr>
      <tr>
        <td>Июль</td>
        <td>125</td>
        <td>100</td>
        <td>155</td>
      </tr>
    </table>

    <div id="result"></div>

    <script>
      /*
        Задание:
        Добавьте строку "Итого" для таблицы statsTable. Напишите сценарий, который выводит сумму всех числовых значений колонок.
        В div с id result выведите сообщение "Отдел 1 сделал больше продаж" или "Отдел 2 сделал больше продаж"... на основе раннее вычисленных значений в строке "Итого".
      */

      //находим элементы
      let tbody = document.querySelector("tbody"); //появляется в браузере автоматически, ниже тега <table>
      let divResult = document.querySelector("#result");

      //создаем элементы
      let tr = document.createElement("tr"); //row for elements
      let tdText = document.createElement("td"); //row-name
      let tdResult1 = document.createElement("td"); //row-result
      let tdResult2 = document.createElement("td"); //row-result
      let tdResult3 = document.createElement("td"); //row-result


      tr.style.color = "orange";
      tdText.innerHTML = "Итого:";

      let sum1 = 0;
      let sum2 = 0;
      let sum3 = 0;

      //Элемент table представляет дополнительные свойства для работы с элементами
      //rows - коллекция строк таблицы <tr>
      //cells - коллекция <td> и <th> находящихся в <tr>
      //rowIndex - порядковый номер строки

      for (const row of document.querySelector("#statsTable").rows) {
        // так как первая строка заголовок - пропускаем ее
        if (row.rowIndex == 0) continue;

        sum1 += Number(row.cells[1].textContent);
        sum2 += Number(row.cells[2].textContent);
        sum3 += Number(row.cells[3].textContent);
      }

      tdResult1.textContent = sum1;
      tdResult2.textContent = sum2;
      tdResult3.textContent = sum3;

      tr.append(tdText, tdResult1, tdResult2, tdResult3);
      tbody.append(tr);

      if(sum1 > sum2 && sum1 > sum3){
        divResult.textContent = "Отдел 1 сделал больше продаж";
      }else if(sum2 > sum3){
        divResult.textContent = "Отдел 2 сделал больше продаж";
      }else{
        divResult.textContent = "Отдел 3 сделал больше продаж";
      }
    </script>
  </body>
</html>